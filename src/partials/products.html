<h3>Hey from Products</h3>


<div ui-view></div>

<div class="cards" ng-controller="ProductsController as products" infinite-scroll="products.nextPage(products.products)" infinite-scroll-distance="1" infinite-scroll-immediate-check='{{ products.scrollActive }}'>
  <div class="card" ng-repeat="product in products.products.getProducts() track by $index" ng-click="products.viewProduct(product)">
    <div class="card-image">
      <img ng-src="{{product.image_url}}" alt="">
    </div>
    <div class="card-header">
      {{ product.brand_name }}
    </div>
    <div class="card-copy">
      <p ng-bind-html="product.name"></p>
    </div>
    <div class="card-stats">
      <ul>
        <li>{{ product.display_price | currency : 'Â£' }}</li>
        <!-- <li>298<span>Things</span></li>
        <li>923<span>Objects</span></li> -->
      </ul>
    </div>
  </div>
</div>

<div class="row products-row" >
  <div class="no-results" ng-show="products.products.getProducts().length === 0 && products.products.currentlySearching() === false">
    <h1><i class="fa fa-frown-o"></i></h1>
    <h4>No products matching "{{products.filters.getFilters().searchString}}"!</h4>
  </div>

  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-4" >
    <li ng-repeat="product in products.products.getProducts() track by $index" >
      <a ui-sref="productDetail({productID: product.id})">
        <div ng-style="{'background-image':'url('+ product.image_url +')'}" class="product-container">
          <!-- <img ng-src="{{product.image_url}}"/> -->
          <a class="button buy-button" ui-sref="productDetail({productID: product.id})">Buy</a> 
          <a class="button wish-button" ng-class="{ 'wished': products.checkIfWishedFor(product.id) }" ng-click="products.wishFor(product, user.id)">Wish</a> 
          <div class="product-description">
            <p class="product-brand"></p>
            <p class="product-name" ng-bind-html="product.name"></p>
            <p class="product-price"></p>
          </div>
          
        </div>
       </a>
    </li>

  </ul>
  <div class="load" ng-show="products.products.currentlySearching()">
    <h4>
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle-o-notch fa-spin fa-stack-2x"></i>
        <i class="fa fa-circle-o-notch fa-spin fa-stack-1x"></i>
      </span>
    </h4>
    <h4>Grabbing the best products</h4>
  </div>
 
</div>


